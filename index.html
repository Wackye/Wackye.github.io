<!DOCTYPE html>
<html>
<head>
  <title>Color Code Reader</title>
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <style>
    button{
        margin: 5px;
    }
  </style>
  <script>
    function readColorCode() {
      // 使用 querystring 模块获取查询参数
      const queryString = window.location.search;
      const params = new URLSearchParams(queryString);
      const colorCode = params.get('color');

      // 设置页面背景颜色
      if (colorCode) {
        document.body.style.backgroundColor = '#' + colorCode;
      }
    }
  </script>
</head>
<body onload="readColorCode()">
  <div id="capture" style="padding: 10px;">
    <h1>Color Code Reader</h1>
    <p>輸入顏色HEX代碼在URL，改變頁面背景顏色。</p>
  </div>
  <button onclick="block_capture()">點我擷取區塊</button>
  <script>
        function block_capture() {
            html2canvas(document.querySelector("#capture")).then(function (canvas) {
                a = document.createElement('a');
                a.href = canvas.toDataURL("image/jpeg", 0.92).replace("image/jpeg", "image/octet-stream");
                a.download = 'image.jpg';
                a.click();
            });
        }
    </script>
</body>

</html>
